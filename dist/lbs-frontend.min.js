!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("LBSFrontend",["exports"],e):e(t.LBSFrontend={})}(this,function(t){"use strict";function e(t){this.$module=t,this.$searchButton=t&&t.querySelector("#lbs-header__mobile__search-btn"),this.$menuButton=t&&t.querySelector("#lbs-header__mobile__menu-btn"),this.$menu=this.$menuButton&&t.querySelector("#"+this.$menuButton.getAttribute("aria-controls")),this.$search=this.$searchButton&&t.querySelector("#"+this.$searchButton.getAttribute("aria-controls"))}e.prototype.init=function(){var t;this.$module&&(this.$menuButton&&(this.syncState(this.$menuButton,this.$menu.classList.contains("active")),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))),this.$searchButton&&(console.log(this.$search),this.syncState(this.$searchButton,this.$search.classList.contains("active")),this.$searchButton.addEventListener("click",this.handleSearchButtonClick.bind(this))),t=document.querySelectorAll("li[data-has-submenu]"),Array.prototype.forEach.call(t,function(t,e){t.querySelector("a").addEventListener("click",function(t){return"true"===this.parentNode.getAttribute("data-has-submenu")&&"true"!==this.parentNode.getAttribute("data-submenu-open")?(this.parentNode.setAttribute("data-submenu-open",!0),this.setAttribute("aria-expanded","true")):(this.parentNode.setAttribute("data-submenu-open",!1),this.setAttribute("aria-expanded","false")),t.preventDefault(),!1});let n=null;t=t.querySelectorAll("a");Array.prototype.forEach.call(t,function(t,e){t.addEventListener("focus",function(){n&&(clearTimeout(n),n=null)}),t.addEventListener("blur",function(t){n=setTimeout(function(){let t=document.querySelector("li[data-submenu-open='true']");t&&(t.setAttribute("data-submenu-open",!1),t.querySelector("a").setAttribute("aria-expanded","false"))},10)})})}))},e.prototype.syncState=function(t,e){t.classList.toggle("active",e),t.setAttribute("aria-expanded",e)},e.prototype.handleMenuButtonClick=function(){var t=this.$menu.classList.toggle("active");this.syncState(this.$menuButton,t),this.$search.classList.contains("active")&&this.syncState(this.$searchButton,this.$search.classList.toggle("active"))},e.prototype.handleSearchButtonClick=function(){var t=this.$search.classList.toggle("active");this.syncState(this.$searchButton,t),this.$module.querySelector("#lbs-search__box").focus(),this.$menu.classList.contains("active")&&this.syncState(this.$menuButton,this.$menu.classList.toggle("active"))},t.initAll=function(t){!function(t,e){if(window.NodeList.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e.call(window,t[n],n,t)}(("undefined"!=typeof(t=void 0!==t?t:{}).scope?t.scope:document).querySelectorAll(".lbs-header"),function(t){new e(t).init()})},t.Header=e,t.Search=function(t){this.$module=t,console.log("Just a test to see if this search component is pulled in")}});
