{% from "govuk/components/skip-link/macro.njk" import govukSkipLink -%}
{% from "../../../src/LBS/components/header/macro.njk" import lbsHeader -%}
{% from "../../../src/LBS/components/footer/macro.njk" import lbsFooter -%}
{% from "../../../src/LBS/components/page-feedback/macro.njk" import lbsPageFeedback -%}
{# specify absolute url for the static assets folder e.g. http://wwww.domain.com/assets #}
{%- set assetUrl = assetUrl | default(assetPath) -%}
<!DOCTYPE html>
<html lang="{{ htmlLang | default('en') }}" class="govuk-template {{ htmlClasses }}">
<head>
  <meta charset="utf-8">
  <title{% if pageTitleLang %} lang="{{ pageTitleLang }}"{% endif %}>
    {% block pageTitle %}LBS Front End Components{% endblock %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="{{ themeColor | default('#0b0c0c') }}"> {# Hardcoded value of $govuk-black #}
  {# Ensure that older IE versions always render with the correct rendering engine #}
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  {% block headIcons %}
    <link rel="shortcut icon" sizes="16x16 32x32 48x48"
          href="{{ assetPath | default('/assets') }}/img/favicons/favicon.ico"
          type="image/x-icon">
    <link rel="mask-icon" href="{{ assetPath | default('/assets') }}/images/govuk-mask-icon.svg"
          color="{{ themeColor | default('#0b0c0c') }}"> {# Hardcoded value of $govuk-black #}
    <link rel="apple-touch-icon" sizes="180x180"
          href="{{ assetPath | default('/assets') }}/images/govuk-apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="167x167"
          href="{{ assetPath | default('/assets') }}/images/govuk-apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="152x152"
          href="{{ assetPath | default('/assets') }}/images/govuk-apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" href="{{ assetPath | default('/assets') }}/images/govuk-apple-touch-icon.png">
  {% endblock %}

  {% block head %}{% endblock %}
  {# The default og:image is added below head so that scrapers see any custom metatags first, and this is just a fallback #}
  {# image url needs to be absolute e.g. http://wwww.domain.com/.../govuk-opengraph-image.png #}
  <meta property="og:image" content="{{ assetUrl | default('/assets') }}/images/govuk-opengraph-image.png">
</head>
<body
  class="govuk-template__body {{ bodyClasses }}" {%- for attribute, value in bodyAttributes %} {{ attribute }}="{{ value }}"{% endfor %}
>
<script{% if cspNonce %} nonce="{{ cspNonce }}"{% endif %}>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled')</script>

{% block bodyStart %}{% endblock %}

{% block skipLink %}
  {{ govukSkipLink({
    href: '#main-content',
    text: 'Skip to main content'
  }) }}
{% endblock %}

{% block header %}
  {{ lbsHeader({
    phaseBanner: true
  }) }}
{% endblock %}

{% block main %}
  <div class="{{ containerClasses }}">
    <main role="main"{% if mainLang %} lang="{{ mainLang }}"{% endif %}>
      <div class="lbs-row lbs-row--alt3 lbs-row--phase-banner">
        <div class="lbs-row__container">
          <div class="govuk-phase-banner">
            <p class="govuk-phase-banner__content">
              <strong class="govuk-tag govuk-phase-banner__content__tag">
                Beta
              </strong>
              <span class="govuk-phase-banner__text">
          This is a new service â€“ your <a class="govuk-link" href="https://forms.gle/8RD4jHBKbDkbauzk6">feedback</a> will help us to improve it.
        </span>
            </p>
          </div>
        </div>
      </div>
      {% block beforeContent %}

      {% endblock %}
      <div class="govuk-main-wrapper {{ mainClasses }}" id="main-content">
        {% block content %}{% endblock %}
      </div>

{#      {% from "../page-feedback/macro.njk" import lbsPageFeedback %}#}
      {# {% if params.pageFeedback === true %} #}
      <div class="govuk-width-container">
        {{ lbsPageFeedback() }}
      </div>
      {# {% endif %} #}

    </main>
  </div>
{% endblock %}

{% block footer %}
  {{ lbsFooter({
    pageFeedback: true
  }) }}
{% endblock %}

{% block bodyEnd %}{% endblock %}
</body>
</html>
